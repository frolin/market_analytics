module Telegram
  class Greeting
    def initialize(from)
      @from = from
    end

    def greet
      "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, #{@from['first_name']}!"
    end

    def campaign_list
      campaigns_name = user.wb&.campaigns&.pluck(:name)
      return '–ü—É—Å—Ç–æ' if campaigns_name&.size.to_i == 0

      "–°–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤: #{campaigns_name}"
    end

    def under_construction
      "üöß –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß"
    end

    def my
      "–°–∞–ª—é—Ç, #{@from['first_name']}!\n" +
        "–Ø –±–æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤, ?"
    end

    def add_store
      "–ö–∞–∫–æ–π –º–∞–≥–∞–∑–∏–Ω —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å?"
    end

    def success_add
      "üë§ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞\n\n" +
        "‚úÖ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, API-–∫–ª—é—á —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω! \n\n"
        "–°–æ–±–∏—Ä–∞—é –¥–∞–Ω–Ω—ã–µ –æ –º–∞–≥–∞–∑–∏–Ω–µ..."
        # "–ú—ã —Å–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –≤–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ –∏ —Å–∫–æ—Ä–æ –ø—Ä–∏—à–ª–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç..."
      # "üöô –ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –ø–æ —Å—Ö–µ–º–µ FBS (–ø—Ä–æ–¥–∞–∂–∞ —Å–æ —Å–∫–ª–∞–¥–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞), –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π API-–∫–ª—é—á, —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã."
    end

    private

    def user
      @user ||= User.find_by(username: @from['username'])
    end
  end
end
